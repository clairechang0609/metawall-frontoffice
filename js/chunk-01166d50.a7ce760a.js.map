{"version":3,"sources":["webpack:///./src/views/Account/components/EditProfile.vue?7ea7","webpack:///./src/views/Account/Index.vue","webpack:///./src/views/Account/components/EditProfile.vue","webpack:///./src/views/Account/components/EditProfile.vue?c13e","webpack:///./src/views/Account/components/EditPassword.vue","webpack:///./src/views/Account/components/EditPassword.vue?de3c","webpack:///./src/views/Account/Index.vue?5a13","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Account/components/EditPassword.vue?3eb2","webpack:///./src/views/Account/Index.vue?1b19"],"names":["class","_createElementVNode","id","role","_createElementBlock","_hoisted_2","type","_normalizeClass","$data","onClick","_createVNode","_component_EditProfile","_component_EditPassword","_hoisted_4","for","aria-hidden","src","_hoisted_5","_hoisted_7","accept","ref","onChange","$options","_hoisted_10","placeholder","name","$event","_hoisted_12","value","gender","_hoisted_14","_hoisted_16","_toDisplayString","disabled","data","info","photo","photoPreview","isUpdatePhoto","errorMessage","isLoading","computed","mapState","token","state","mounted","this","getProfile","methods","mapMutations","config","method","url","process","headers","authorization","$http","then","response","setProfile","error","console","log","getPreviewFile","input","$refs","URL","createObjectURL","files","uploadFile","Promise","resolve","reject","FormData","append","DataTransfer","message","updateProfile","submit","setInfo","_id","__exports__","_hoisted_3","password","confirmPassword","isFinished","setToken","Object","assign","components","EditProfile","EditPassword","tab","render","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get"],"mappings":"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","file":"js/chunk-01166d50.a7ce760a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./EditProfile.vue?vue&type=style&index=0&id=4a3e2ba0&lang=scss&scoped=true\"","<template>\n\t<div class=\"account-wrap\">\n\t\t<h3 class=\"title py-3 border bg-white text-center mb-4\">修改個人資料</h3>\n\t\t<ul class=\"ms-2 nav nav-tabs border-0\" id=\"myTab\" role=\"tablist\">\n\t\t\t<li class=\"nav-item\">\n\t\t\t\t<button type=\"button\" class=\"nav-link border px-4\" @click=\"tab = 'edit-name'\"\n\t\t\t\t\t:class=\"{ 'active': tab === 'edit-name' }\">暱稱修改</button>\n\t\t\t</li>\n\t\t\t<li class=\"nav-item\">\n\t\t\t\t<button type=\"button\" class=\"nav-link border px-4\" @click=\"tab = 'edit-password'\"\n\t\t\t\t\t:class=\"{ 'active': tab === 'edit-password' }\">重設密碼</button>\n\t\t\t</li>\n\t\t</ul>\n\t\t<div class=\"tab-content rounded-card card\">\n\t\t\t<!-- 暱稱修改 -->\n\t\t\t<div id=\"edit-name\" v-if=\"tab === 'edit-name'\">\n\t\t\t\t<EditProfile></EditProfile>\n\t\t\t</div>\n\t\t\t<!-- 重設密碼 -->\n\t\t\t<div id=\"edit-password\" v-if=\"tab === 'edit-password'\">\n\t\t\t\t<EditPassword></EditPassword>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EditProfile from './components/EditProfile';\nimport EditPassword from './components/EditPassword';\n\nexport default {\n\tname: 'Account',\n\tcomponents: {\n\t\tEditProfile,\n\t\tEditPassword\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttab: 'edit-name'\n\t\t};\n\t},\n\tmethods: {}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.account-wrap {\n\t\t.title {\n\t\t\tbox-shadow: -5px 5px 0 -2px white, -5px 5px 0 0px $black;\n\t\t}\n\t\t.nav-link {\n\t\t\tbackground-color: white;\n\t\t\tcolor: $black;\n\t\t\t&.active {\n\t\t\t\tbackground-color: $black;\n\t\t\t\tcolor: white;\n\t\t\t}\n\t\t}\n\t}\n</style>\n","<template>\n\t<div class=\"card-body p-4 d-flex flex-column align-items-center\">\n\t\t<img :src=\"photoPreview\" class=\"photo d-block mb-3 border rounded-circle\" v-if=\"photoPreview\">\n\t\t<div class=\"photo rounded-circle border d-flex align-items-center justify-content-center mb-3\" v-else>\n\t\t\t<i class=\"bi bi-person fs-1\"></i>\n\t\t</div>\n\t\t<div class=\"mb-3\">\n\t\t\t<label for=\"upload-file\" class=\"btn form-label bg-black text-white shadow-none py-1 mb-0\">編輯大頭照</label>\n\t\t\t<input class=\"form-control d-none\" type=\"file\" id=\"upload-file\" accept=\"image/png, image/jpeg\"\n\t\t\t\tref=\"upload-file\" @change=\"getPreviewFile()\">\n\t\t</div>\n\t\t<form class=\"mt-3\">\n\t\t\t<div class=\"mb-3\">\n\t\t\t\t<label for=\"name\" class=\"form-label\">暱稱</label>\n\t\t\t\t<input type=\"text\" class=\"form-control rounded-0\" id=\"name\" placeholder=\"請輸入暱稱\"\n\t\t\t\t\tv-model=\"info.name\">\n\t\t\t</div>\n\t\t\t<div class=\"mb-3\">\n\t\t\t\t<label for=\"gender\" class=\"form-label\">性別</label>\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\n\t\t\t\t\t\t<input class=\"form-check-input\" type=\"radio\" id=\"female\" value=\"female\" v-model=\"info.gender\">\n\t\t\t\t\t\t<label class=\"form-check-label\" for=\"female\">女性</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-check form-check-inline\">\n\t\t\t\t\t\t<input class=\"form-check-input\" type=\"radio\" id=\"male\" value=\"male\" v-model=\"info.gender\">\n\t\t\t\t\t\t<label class=\"form-check-label\" for=\"male\">男性</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"errorMessage\" class=\"text-danger text-center d-block mt-3\">\n\t\t\t\t{{ errorMessage }}\n\t\t\t</div>\n\t\t\t<button type=\"button\" class=\"btn btn-secondary w-100 mt-3\" @click=\"submit()\" :disabled=\"isLoading\">\n\t\t\t\t<span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\" v-if=\"isLoading\"></span>\n\t\t\t\t送出更新\n\t\t\t</button>\n\t\t</form>\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex';\n\nexport default {\n\tname: 'EditProfile',\n\tdata() {\n\t\treturn {\n\t\t\tinfo: {\n\t\t\t\tname: '',\n\t\t\t\tphoto: '',\n\t\t\t\tgender: ''\n\t\t\t},\n\t\t\tphotoPreview: '', // 預覽大頭貼\n\t\t\tisUpdatePhoto: false, // 是否更新大頭貼\n\t\t\terrorMessage: '',\n\t\t\tisLoading: false\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\ttoken: state => state.token\n\t\t})\n\t},\n\tmounted() {\n\t\tthis.getProfile();\n\t},\n\tmethods: {\n\t\t...mapMutations([ 'setInfo' ]),\n\t\tgetProfile() {\n\t\t\tconst config = {\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: `${process.env.VUE_APP_APIPATH}/api/v1/user/profile`,\n\t\t\t\theaders: {\n\t\t\t\t\tauthorization: `Bearer ${this.token}`\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.$http(config)\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.setProfile(response.data.data);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.log(error); // TODO:\n\t\t\t\t});\n\t\t},\n\t\tsetProfile(response) {\n\t\t\tconst { name, photo, gender } = response;\n\t\t\tthis.info = { name, photo, gender };\n\t\t\tthis.photoPreview = photo;\n\t\t},\n\t\tgetPreviewFile() { // 預覽圖片\n\t\t\tconst input = this.$refs['upload-file'];\n\t\t\tthis.photoPreview = URL.createObjectURL(input.files[0]);\n\t\t\tthis.isUpdatePhoto = true;\n\t\t},\n\t\tuploadFile() { // 上傳檔案到 aws s3\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst input = this.$refs['upload-file'];\n\t\t\t\tconst data = new FormData();\n\t\t\t\tdata.append('image', input.files[0]);\n\t\t\t\tinput.files = new DataTransfer().files; // 清空 input，避免重複選同一檔案無法觸發 change 事件\n\n\t\t\t\tconst config = {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\turl: `${process.env.VUE_APP_APIPATH}/api/v1/file`,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tauthorization: `Bearer ${this.token}`\n\t\t\t\t\t},\n\t\t\t\t\tdata: data\n\t\t\t\t};\n\t\t\t\tthis.$http(config)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tresolve(response.data.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\treject(error.response.data.message);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tupdateProfile() {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tconst config = {\n\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\turl: `${process.env.VUE_APP_APIPATH}/api/v1/user/profile`,\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tauthorization: `Bearer ${this.token}`\n\t\t\t\t\t},\n\t\t\t\t\tdata: this.info\n\t\t\t\t};\n\t\t\t\tthis.$http(config)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tresolve(response.data.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\treject(error.response.data.message);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tasync submit() {\n\t\t\ttry {\n\t\t\t\tthis.isLoading = true;\n\t\t\t\tif (this.isUpdatePhoto) {\n\t\t\t\t\tconst photo = await this.uploadFile(); // 先上傳圖片\n\t\t\t\t\tthis.info.photo = photo;\n\t\t\t\t}\n\t\t\t\tconst response = await this.updateProfile(); // 更新個人資訊\n\t\t\t\tthis.setProfile(response);\n\t\t\t\tthis.setInfo({\n\t\t\t\t\t_id: response._id,\n\t\t\t\t\tname: response.name,\n\t\t\t\t\tphoto: response.photo\n\t\t\t\t});\n\t\t\t\tthis.errorMessage = '';\n\t\t\t\tthis.isLoading = false;\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorMessage = error;\n\t\t\t\tthis.isLoading = false;\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\tform {\n\t\twidth: 320px;\n\t}\n\t.photo {\n\t\twidth: 105px;\n\t\theight: 105px;\n\t\tbackground-color: #E2EDFA;\n\t}\n</style>\n","import { render } from \"./EditProfile.vue?vue&type=template&id=4a3e2ba0&scoped=true\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=js\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=js\"\n\nimport \"./EditProfile.vue?vue&type=style&index=0&id=4a3e2ba0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/metawall-frontoffice/metawall-frontoffice/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4a3e2ba0\"]])\n\nexport default __exports__","<template>\n\t<div class=\"card-body p-4 d-flex flex-column align-items-center\">\n\t\t<form>\n\t\t\t<div class=\"mb-3\">\n\t\t\t\t<label for=\"password\" class=\"form-label\">輸入新密碼</label>\n\t\t\t\t<input type=\"password\" class=\"form-control rounded-0\" id=\"password\" placeholder=\"請輸入新密碼\"\n\t\t\t\t\tv-model=\"info.password\">\n\t\t\t</div>\n\t\t\t<div class=\"mb-3\">\n\t\t\t\t<label for=\"confirm_password\" class=\"form-label\">再次輸入</label>\n\t\t\t\t<input type=\"password\" class=\"form-control rounded-0\" id=\"confirm_password\" placeholder=\"再次輸入輸入新密碼\"\n\t\t\t\t\tv-model=\"info.confirmPassword\">\n\t\t\t</div>\n\t\t\t<div v-if=\"errorMessage\" class=\"text-danger text-center d-block mt-3\">\n\t\t\t\t{{ errorMessage }}\n\t\t\t</div>\n\t\t\t<button type=\"button\" class=\"btn btn-secondary w-100 mt-3\" :disabled=\"!isFinished || isLoading\"\n\t\t\t\t@click=\"submit()\">\n\t\t\t\t<span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\" v-if=\"isLoading\"></span>\n\t\t\t\t重設密碼\n\t\t\t</button>\n\t\t</form>\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex';\n\nexport default {\n\tname: 'EditPassword',\n\tdata() {\n\t\treturn {\n\t\t\tinfo: {\n\t\t\t\tpassword: '',\n\t\t\t\tconfirmPassword: ''\n\t\t\t},\n\t\t\terrorMessage: '',\n\t\t\tisLoading: false\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\ttoken: state => state.token\n\t\t}),\n\t\tisFinished() {\n\t\t\treturn this.info.password && this.info.confirmPassword;\n\t\t}\n\t},\n\tmounted() {},\n\tmethods: {\n\t\t...mapMutations([ 'setToken' ]),\n\t\tsubmit() {\n\t\t\tthis.isLoading = true;\n\t\t\tconst config = {\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\turl: `${process.env.VUE_APP_APIPATH}/api/v1/user/update_password`,\n\t\t\t\theaders: {\n\t\t\t\t\tauthorization: `Bearer ${this.token}`\n\t\t\t\t},\n\t\t\t\tdata: this.info\n\t\t\t};\n\t\t\tthis.$http(config)\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.setToken(response.data.data.token);\n\t\t\t\t\tObject.assign(this.$data, this.$options.data());\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.errorMessage = error.response.data.message;\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\tform {\n\t\twidth: 320px;\n\t}\n</style>\n","import { render } from \"./EditPassword.vue?vue&type=template&id=0d15e3ba&scoped=true\"\nimport script from \"./EditPassword.vue?vue&type=script&lang=js\"\nexport * from \"./EditPassword.vue?vue&type=script&lang=js\"\n\nimport \"./EditPassword.vue?vue&type=style&index=0&id=0d15e3ba&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/metawall-frontoffice/metawall-frontoffice/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0d15e3ba\"]])\n\nexport default __exports__","import { render } from \"./Index.vue?vue&type=template&id=39cb5c76&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=39cb5c76&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/metawall-frontoffice/metawall-frontoffice/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-39cb5c76\"]])\n\nexport default __exports__","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./EditPassword.vue?vue&type=style&index=0&id=0d15e3ba&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=39cb5c76&lang=scss&scoped=true\""],"sourceRoot":""}